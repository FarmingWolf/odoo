<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="estate_lease_contract_property_view_tree" model="ir.ui.view">
            <field name="name">estate.lease.contract.property.extend.tree</field>
            <field name="model">estate.property</field>
            <field name="inherit_id" ref="estate.491_real_estate_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='expected_price']" position="replace">
                    <field name="rent_plan_id"></field>
                </xpath>
                <xpath expr="//field[@name='selling_price']" position="replace">
                    <field name="management_fee_plan_id"></field>
                </xpath>
                <xpath expr="//field[@name='date_availability']" position="replace">
                    <field name="payment_period"></field>
                    <field name="payment_date"></field>
                </xpath>
            </field>
        </record>

        <record id="estate_lease_contract_property_view_form" model="ir.ui.view">
            <field name="name">estate.lease.contract.property.extend.form</field>
            <field name="model">estate.property</field>
            <field name="inherit_id" ref="estate.491_real_estate_view_form"/>
                <field name="arch" type="xml">
                    <xpath expr="//notebook" position="inside">
                        <page string="租金方案">
                            <field name="billing_method_fixed_price_invisible" invisible="1"/>
                            <field name="billing_method_percentage_invisible" invisible="1"/>
                            <field name="billing_method_progress_invisible" invisible="1"/>
                            <field name="billing_method_fixed_price_percentage_higher_invisible" invisible="1"/>
                            <field name="billing_progress_method_period_invisible" invisible="1"/>
                            <field name="billing_progress_method_turnover_invisible" invisible="1"/>
                            <field name="billing_progress_method_no_progress_invisible" invisible="1"/>
                            <group col="2">
                                <group col="1">
                                    <group>
                                        <field name="rent_plan_id" string="选择租金方案"/>
                                        <field name="business_method_id"/>
                                        <field name="main_category"/>
                                        <field name="billing_method"/>
                                    </group>
                                    <group invisible="billing_method_fixed_price_invisible">
                                        <field name="rent_price"/>
                                    </group>
                                    <group invisible="billing_method_progress_invisible">
                                        <field name="billing_progress_method_id"/>
                                    </group>
                                </group>
                                <group col="1">
                                    <group col="1">
                                        <button name="action_refresh_rent_plan" type="object"
                                                string="点击刷新"></button>
                                    </group>
                                    <group col="1">
                                        <field name="business_type_id"/>
                                        <field name="payment_period"/>
                                        <field name="payment_date"/>
                                    </group>
                                    <group col="1" invisible="billing_method_progress_invisible or billing_progress_method_period_invisible">
                                        <field name="rent_price" string="起始单价（元/天/㎡）"/>
                                    </group>
                                </group>
                            </group>

                            <newline/>

                            <group name="纯抽成" invisible="billing_method_percentage_invisible">
                                <field name="turnover_percentage_id"/>
                            </group>

                            <group name="按递增率" col="1" invisible="billing_method_progress_invisible">
                                <group name="按时间段递增" col="2" invisible="billing_progress_method_period_invisible">

                                    <field name="period_percentage_id"/>
                                </group>
                                <group name="按营业额递增" col="2" invisible="billing_progress_method_turnover_invisible">
                                    <field name="turnover_percentage_id"/>
                                </group>
                                <group name="固定单价" col="2" invisible="billing_progress_method_no_progress_invisible">
                                    <field name="rent_price" string="无递增固定单价（元/天/㎡）"/>
                                </group>
                            </group>

                            <group name="取高" col="1" invisible="billing_method_fixed_price_percentage_higher_invisible">
                                <group col="2">
                                    <group col="1">
                                        <field name="rent_price" string="保底单价（元/天/㎡）"/>
                                    </group>
                                    <group col="2">
                                        <group>
                                            <field name="compensation_method"/>
                                        </group>
                                        <group>
                                            <field name="compensation_period"/>
                                        </group>
                                    </group>
                                </group>
                                <newline/>
                                <group col="1">
                                    <field name="turnover_percentage_id"/>
                                </group>
                            </group>
                        </page>
                        <page string="物业费方案">
                            <group col="2">
                                <group col="1">
                                    <field name="management_fee_plan_id" string="选择物业费方案"/>
                                </group>
                                <group col="1">
                                    <button name="action_refresh_management_fee_plan" type="object"
                                            string="点击刷新"></button>
                                </group>
                            </group>
                            <newline/>
                            <group col="1">
                                <field name="management_fee_name_description"/>
                            </group>
                        </page>
                    </xpath>
                </field>
        </record>
    </data>

</odoo>
